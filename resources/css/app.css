@import 'tailwindcss';
@import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
  --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

/* =========================================================
   DESIGN TOKENS
   ========================================================= */
:root {
  color-scheme: light;

  --brand: #6C1517;

  /* surfaces */
  --app-bg: #F6F6F6;
  --sidebar: #FFFFFF;
  --surface: #FFFFFF;
  --input: #F3F4F6;

  /* borders & dividers */
  --border: #E5E7EB;
  --divider: rgba(17, 24, 39, 0.10);

  /* text */
  --text: #111827;
  --muted: #6B7280;
  --muted-light: #9CA3AF;

  /* hovers */
  --hover: rgba(17, 24, 39, 0.04);
  --hover-strong: rgba(17, 24, 39, 0.07);

  /* shadow */
  --shadow: 0 18px 50px rgba(0, 0, 0, 0.10);

  /* accents */
  --amber: #D97706;
  --amber-bg: #FFFBEB;

  /* danger */
  --danger: #DC2626;
  --danger-bg: #FEF2F2;
  --danger-border: #FECACA;
}

/* =========================================================
   DARK MODE (ChatGPT-ish neutral blacks/grays)
   Toggle by adding class="dark" on <html>
   ========================================================= */
html.dark {
  color-scheme: dark;

  --brand: #6C1517;

  /* neutral darks (no blue tint) */
  --app-bg: #0B0B0D;
  --sidebar: #0F0F12;
  --surface: #17181B;
  --input: #121317;

  --border: rgba(255, 255, 255, 0.10);
  --divider: rgba(255, 255, 255, 0.08);

  --text: #F3F4F6;
  --muted: #A1A1AA;
  --muted-light: #71717A;

  --hover: rgba(255, 255, 255, 0.05);
  --hover-strong: rgba(255, 255, 255, 0.08);

  --shadow: 0 24px 70px rgba(0, 0, 0, 0.55);

  --amber: #F59E0B;
  --amber-bg: rgba(245, 158, 11, 0.12);

  --danger: #F87171;
  --danger-bg: rgba(248, 113, 113, 0.12);
  --danger-border: rgba(248, 113, 113, 0.25);
}

@layer base {
  .retro-ui {
    font-family: "Space Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      "Liberation Mono", "Courier New", monospace;
  }
}

[x-cloak] { display: none !important; }

/* =========================================================
   UTILITIES
   ========================================================= */
@layer utilities {
  /* Hide scrollbar but keep scroll */
  .no-scrollbar::-webkit-scrollbar { width: 0px; height: 0px; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

  /* Semantic helpers */
  .bg-app-page { background-color: var(--app-bg); }
  .bg-app-sidebar { background-color: var(--sidebar); }
  .bg-app-card { background-color: var(--surface); }
  .bg-app-input { background-color: var(--input); }

  .text-app { color: var(--text); }
  .text-app-muted { color: var(--muted); }
  .text-app-mutedlight { color: var(--muted-light); }

  .border-app { border-color: var(--border); }
  .bg-app-divider { background-color: var(--divider); }

  .bg-app-brand { background-color: var(--brand); }
  .bg-app-accent { background-color: var(--amber); }
  .bg-app-surface { background-color: var(--surface); }

  .shadow-app { box-shadow: var(--shadow); }

  /* hover helpers (work in both modes, no Tailwind dark: needed) */
  .hover-app:hover { background-color: var(--hover); }
  .hover-app-strong:hover { background-color: var(--hover-strong); }

  /* Buttons */
  .btn-brand { background-color: var(--brand); color: #fff; }
  .btn-ghost {
    background-color: var(--input);
    color: var(--text);
    border: 1px solid var(--border);
  }
  .btn-ghost:hover { background-color: var(--hover-strong); }

  /* Switch (used on Settings) */
  .theme-track {
    width: 48px;
    height: 28px;
    border-radius: 9999px;
    background: var(--border);
    transition: background-color 200ms ease;
  }
  html.dark .theme-track { background: rgba(255,255,255,0.14); }
  .theme-track.on { background: var(--brand); }

  .theme-knob {
    position: absolute;
    left: 4px;
    top: 4px;
    width: 20px;
    height: 20px;
    border-radius: 9999px;
    background: #fff;
    box-shadow: 0 2px 10px rgba(0,0,0,.25);
    transform: translateX(0);
    transition: transform 200ms ease;
  }
  .theme-knob.on { transform: translateX(20px); }
}
